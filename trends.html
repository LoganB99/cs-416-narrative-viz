<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Superhero Trends - Follow the Data</title>
    <script src="https://d3js.org/d3.v7.min.js"></script>
    <link rel="stylesheet" href="css/styles.css">
</head>
<body>
    <div class="container">
        <h1 class="fade-in">Superhero Trends Analysis</h1>
        <p class="subtitle fade-in delay-1">Choose Your Path to Explore the Data</p>
        
        <div class="hero-icons fade-in delay-2">
            üìä
        </div>
        
        <p class="description fade-in delay-3">
            Now that we've seen the rise and potential decline of superhero movies, 
            let's dive deeper into the data. Choose your preferred lens to explore 
            what's really happening behind the scenes.
        </p>
        
        <div class="progress-indicator fade-in delay-3" id="progress-indicator">
            <div class="progress-text">Analysis Progress: <span id="progress-count">0</span>/2 completed</div>
            <div class="progress-bar">
                <div class="progress-fill" id="progress-fill"></div>
            </div>
        </div>

        <!-- Theme Selection -->
        <div class="theme-selection fade-in delay-4">
            <div class="theme-card" id="money-theme">
                <h3>Follow the Money</h3>
                <p>Explore revenue over the past 25 years.</p>
                <button class="theme-btn">Explore Financial Data</button>
            </div>
            
            <div class="theme-card" id="feelings-theme">
                <h3>Follow the Feelings</h3>
                <p>Compare vote averages over the past 25 years.</p>
                <button class="theme-btn">Explore Sentiment Data</button>
            </div>
            
                    <div class="theme-card" id="verdict-theme">
            <div class="theme-icon">ü§î</div>
            <h3>What's the Verdict?</h3>
            <p>Our conclusion on superhero movie fatigue.</p>
            <button class="theme-btn" id="verdict-btn">Read the Verdict</button>
            <div class="verdict-lock" id="verdict-lock">
                <span>üîí Complete both analyses first</span>
            </div>
        </div>
        </div>
        
        <!-- Back Navigation -->
        <div class="back-nav fade-in delay-5">
            <button class="back-btn" onclick="window.location.href='index.html'">
                ‚Üê Back to Overview
            </button>
        </div>
    </div>

    <script>
        // Theme selection functionality
        document.getElementById('money-theme').addEventListener('click', function() {
            window.location.href = 'money.html';
        });
        
        document.getElementById('feelings-theme').addEventListener('click', function() {
            window.location.href = 'feelings.html';
        });
        
        // Check if user has completed both analyses
        function checkVerdictAccess() {
            const hasVisitedMoney = localStorage.getItem('visited_money') === 'true';
            const hasVisitedFeelings = localStorage.getItem('visited_feelings') === 'true';
            const verdictBtn = document.getElementById('verdict-btn');
            const verdictLock = document.getElementById('verdict-lock');
            const verdictCard = document.getElementById('verdict-theme');
            
            // Update progress indicator
            const progressCount = document.getElementById('progress-count');
            const progressFill = document.getElementById('progress-fill');
            const completedCount = (hasVisitedMoney ? 1 : 0) + (hasVisitedFeelings ? 1 : 0);
            
            progressCount.textContent = completedCount;
            progressFill.style.width = (completedCount / 2 * 100) + '%';
            
            if (hasVisitedMoney && hasVisitedFeelings) {
                // Both analyses completed - enable verdict
                verdictBtn.disabled = false;
                verdictLock.style.display = 'none';
                verdictCard.style.opacity = '1';
                verdictCard.style.cursor = 'pointer';
            } else {
                // Not completed - disable verdict
                verdictBtn.disabled = true;
                verdictLock.style.display = 'block';
                verdictCard.style.opacity = '0.6';
                verdictCard.style.cursor = 'not-allowed';
            }
        }
        
        document.getElementById('verdict-theme').addEventListener('click', function() {
            const hasVisitedMoney = localStorage.getItem('visited_money') === 'true';
            const hasVisitedFeelings = localStorage.getItem('visited_feelings') === 'true';
            
            if (hasVisitedMoney && hasVisitedFeelings) {
                window.location.href = 'verdict.html';
            }
        });
        
        // Check access on page load
        checkVerdictAccess();
        
        // Add hover effects for theme cards
        document.querySelectorAll('.theme-card').forEach(card => {
            card.addEventListener('mouseenter', function() {
                this.style.transform = 'translateY(-10px) scale(1.02)';
            });
            
            card.addEventListener('mouseleave', function() {
                this.style.transform = 'translateY(0) scale(1)';
            });
        });
    </script>
</body>
</html> 